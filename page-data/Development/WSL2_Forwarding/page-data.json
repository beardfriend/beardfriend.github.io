{"componentChunkName":"component---src-templates-blogpost-tsx","path":"/Development/WSL2_Forwarding/","result":{"data":{"markdownRemark":{"html":"<p><strong>💡목표</strong></p>\n<ul>\n<li>Public IP 주소를 입력하면 WSL2 local 보여주기.</li>\n</ul>\n<p><strong>⚡ 환경</strong></p>\n<ul>\n<li>공유기를 통제할 수 있는 환경에서 테스트를 진행해야 합니다.</li>\n<li>윈도우 PC여야 합니다.</li>\n<li>유무선 인터넷이 되는 환경이어야 합니다.</li>\n</ul>\n<h1 id=\"1-들어가며\" style=\"position:relative;\">1. 들어가며<a href=\"#1-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"1 들어가며 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>이해를 돕기 위한 기초 개념을 간략히 설명하겠습니다.</p>\n<h2 id=\"11-IPv4-IPv6\" style=\"position:relative;\">1.1. IPv4 IPv6<a href=\"#11-IPv4-IPv6\" aria-label=\"11 IPv4 IPv6 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><strong>IP</strong>라는 글자뒤에 v4 , v6가 붙은 형태에요.</p>\n<p>미뤄 짐작해봅시다.<br>\nIP는 ip주소할 때 ip라고 예측할 수 있겠고.<br>\nv는 version의 약자라고 유추할 수 있겠네요.</p>\n<p>그러면 아이피 4세대, 아이피 6세대 쯤으로 생각할 수 있겠어요.</p>\n<h3 id=\"111-왜-버전6이-필요했을까\" style=\"position:relative;\">1.1.1 왜 버전6이 필요했을까?<a href=\"#111-%EC%99%9C-%EB%B2%84%EC%A0%846%EC%9D%B4-%ED%95%84%EC%9A%94%ED%96%88%EC%9D%84%EA%B9%8C\" aria-label=\"111 왜 버전6이 필요했을까 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>version4는 약 <strong>46억개</strong>의 주소를 사용할 수 있게 만들어졌어요.<br>\n인구가 60억 이상이니, 지금은 46억개를 훨씬 넘었겠죠?<br>\n컴퓨터가 누구에게나 사용될 줄 몰랐나봐요.</p>\n<p>IPv6은 약 43억*43억*43억*43억개를 만들 수 있어요.<br>\n엄청난 숫자죠?<br>\n과연 새로운 버전의 IP가 나오는 날이 올까요?</p>\n<h2 id=\"12-LAN-과-WAN\" style=\"position:relative;\">1.2. LAN 과 WAN<a href=\"#12-LAN-%EA%B3%BC-WAN\" aria-label=\"12 LAN 과 WAN permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"121-LAN\" style=\"position:relative;\">1.2.1. LAN<a href=\"#121-LAN\" aria-label=\"121 LAN permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>LAN이란 말 많이 들어보셨죠?<br>\nLocal Area Network의 약자입니다.</p>\n<p>로컬 영역에서의 네트워크 환경입니다.<br>\n사무실, 가정집, 학교 정도의 범위(Area)입니다.</p>\n<h3 id=\"122-WAN\" style=\"position:relative;\">1.2.2. WAN<a href=\"#122-WAN\" aria-label=\"122 WAN permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>WAN은 Wide Area Network의 약자입니다.</p>\n<p>지역, 국가, 세계 범위(Area)입니다.</p>\n<h1 id=\"2-본론\" style=\"position:relative;\">2. 본론<a href=\"#2-%EB%B3%B8%EB%A1%A0\" aria-label=\"2 본론 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"21-출발점---중간과정---도착점\" style=\"position:relative;\">2.1. 출발점 -> 중간과정 -> 도착점<a href=\"#21-%EC%B6%9C%EB%B0%9C%EC%A0%90---%EC%A4%91%EA%B0%84%EA%B3%BC%EC%A0%95---%EB%8F%84%EC%B0%A9%EC%A0%90\" aria-label=\"21 출발점   중간과정   도착점 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>시작점과 도착점뿐만 아니라 과정을 상세히 알아야<br>\n목적지에 도착할 수 있습니다.</p>\n<p>우리는 출발점 브라우저와<br>\n도착지 WSL2 사이에 \"Windows\"라는 중간길을 끼고 있습니다.</p>\n<p>윈도우 서버가 실행되어야만 WSL이 작동하니,<br>\n윈도우 서버를 거치지 않고는 WSL에 도착할 수 없겠죠?</p>\n<p>즉 외부에서 내 WSL2 서버로 들어오기 위해서는<br>\n\"공인IP -> Window -> WSL\"순서라고 생각해볼 수 있겠네요.</p>\n<h3 id=\"211-출발점-공인-IP\" style=\"position:relative;\">2.1.1. 출발점 (공인 IP)<a href=\"#211-%EC%B6%9C%EB%B0%9C%EC%A0%90-%EA%B3%B5%EC%9D%B8-IP\" aria-label=\"211 출발점 공인 IP permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>각자 구글에 \"내 아이피 확인\"을 검색해보세요.<br>\n또는\nWSL에 입력해보세요.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">curl ifconfig.me</span></span></span></code></pre>\n<p>아이피 주소가 나올 겁니다.</p>\n<p>주소를 브라우저에 입력해보세요.\n공유기 설정 화면이 나타날 겁니다.<br>\n출발점을 찾았습니다. 축하드립니다.</p>\n<p>방금 접속한 주소는 공인아이피 입니다.</p>\n<p>공인아이피의 반댓말은 사설아이피입니다.<br>\n영어로 보면 Public &#x3C;-> Private</p>\n<p>공인아이피는 인터넷 환경이면 누구나 접속 가능한 주소이고<br>\n사설아이피는 같은 네트워크 안에서만 접속이 가능한 주소입니다.</p>\n<h3 id=\"212-중간과정-사설-IP\" style=\"position:relative;\">2.1.2. 중간과정 (사설 IP)<a href=\"#212-%EC%A4%91%EA%B0%84%EA%B3%BC%EC%A0%95-%EC%82%AC%EC%84%A4-IP\" aria-label=\"212 중간과정 사설 IP permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>사설 IP는 기기마다 다릅니다.<br>\n기기 2개를 갖고 같은 와이파이를 연결해보세요<br>\n다른 아이피를 확인할 수 있을 겁니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"powershell\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># cmd or powershell에서</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">ipconfig</span></span></span></code></pre>\n<p>무선 LAN 어뎁터 WIFI에 IPv4주소를 확인해보세요<br>\n현재 Windows의 사설 아이피 주소입니다.</p>\n<p>WSL은 윈도우 위에서 돌아간다고 했죠?<br>\n공인IP -> 사설 IP -> WSL IP로 연결을 해줘야겠죠?</p>\n<h3 id=\"213-도착점-WSL-IP\" style=\"position:relative;\">2.1.3. 도착점 WSL IP<a href=\"#213-%EB%8F%84%EC%B0%A9%EC%A0%90-WSL-IP\" aria-label=\"213 도착점 WSL IP permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>WSL은 윈도우와 이더넷 어뎁트를 통해 연결되어 있습니다.<br>\nnet-tools를 이용해 wsl의 ip를 알아낼 겁니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo apt install net-tools</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">ifconfig</span></span></span></code></pre>\n<p>ifconfig를 입력하면, \"<strong>eth0</strong>:\"가 보일 겁니다.<br>\n이더넷에 연결된 정보들이 보입니다.<br>\n그 중에서 inet의 주소가 WSL2의 주소입니다.</p>\n<h2 id=\"22-연결하기\" style=\"position:relative;\">2.2. 연결하기<a href=\"#22-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"22 연결하기 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>이제 도착점까지 알았으니 이 모든 IP를 모두 연결해주면 되겠죠?</p>\n<h3 id=\"221-Public---Windows\" style=\"position:relative;\">2.2.1. Public -> Windows<a href=\"#221-Public---Windows\" aria-label=\"221 Public   Windows permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>공유기 설정에 들어가면 포워딩이라는 항목이 있을 겁니다.</p>\n<p>WSL에서 사용할 포트 === 서비스 포트 === 내부 포트<br>\n를 만들어주시면 되겠습니다.</p>\n<h3 id=\"222-Windows---WSL\" style=\"position:relative;\">2.2.2. Windows -> WSL<a href=\"#222-Windows---WSL\" aria-label=\"222 Windows   WSL permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ul>\n<li>WSL과 연결해주기</li>\n</ul>\n<p>powershell을 관리자로 실행시켜줍니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"powershell\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">netsh interface portproxy add v4tov4 listenport=</span><span class=\"mtk12\">${port}</span><span class=\"mtk1\"> listenaddress=</span><span class=\"mtk12\">${address}</span><span class=\"mtk1\"> connectport=</span><span class=\"mtk12\">${port}</span><span class=\"mtk1\"> connectaddress=</span><span class=\"mtk12\">${WSLip}</span></span></span></code></pre>\n<p>listenport, connectport에는 WSL에서 사용할 포트를 입력해주고<br>\nlistenaddress 는 생략 or 0.0.0.0 or * 입력해주면 모든 주소를 허용합니다. 사설 아이피 주소를 입력해주면 사설아이피 주소를 허용해주는 겁니다.<br>\nconnectaddress에는 WSL2주소를 입력해주면 됩니다. WSL 터미널에서 inet주소를 확인했었죠?</p>\n<ul>\n<li>윈도우 방화벽 열어주기</li>\n</ul>\n<p>💡방법 1.</p>\n<p>powershell 관리자로 실행시켜줍니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"powershell\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">netsh advfirewall firewall add rule name=$[</span><span class=\"mtk4\">name</span><span class=\"mtk1\">] dir=</span><span class=\"mtk15\">in</span><span class=\"mtk1\"> action=allow protocol=TCP localport=</span><span class=\"mtk12\">${port}</span></span></span></code></pre>\n<p>localport에는 방화벽 허용해줄 포트를 입력해줍니다. ( WSL 포트)</p>\n<p>name에는 본인이 알아볼 수 있는 이름을 적어주시면 됩니다.<br>\n포트번호를 적어주면 직관적입니다.</p>\n<p>💡방법 2.</p>\n<p>제어판 - 시스템 및 보안 - Windows Defender 방화벽 - 고급설정 - 인바운드 규칙</p>\n<p>오른쪽 편에 <strong>새 규칙</strong> 클릭 후</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 958px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABL0lEQVQoz5WR0VKCQBSGedUuumvqwl6v6QG6cCypgYaERFCB3QXRNFm+BpRCBx3bmW/OxZ799j+7xujhmvHjFfLplrx/g369A+serN6/0W89jOl8QZoXZCsQWUG6go3esS52dcvlGJ7vEcwi8nzB+mtJEs1wRw7jT7dmGk5QMkGK+CKMYJ4wV0u2ukTrgkRIBs8v2LaN53lMJhOklCil9vU8RhwJtt8bqlVqzTwW9AcvvNs2Y9/HdV183ydJkpZUncSgtbTWpErhOA6WZREEQU0URaRp2ik4TK8wyrKkohFWG6ZpMhya9bhhGNbC5lAXZ4VVkkrQpMqy7OSosrmkLeRI2DRXsq4UB+Lmk1p99RseC0+JusRyz9+ndCTsHK8lEUIQxzHBLOZjHCKk+n3nHyexPCmYTMQLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"포트 설정 이미지\"\n        title=\"포트 설정 이미지\"\n        src=\"/static/cf74457975568ef5f4b70c73492c1706/b97f6/1.png\"\n        srcset=\"/static/cf74457975568ef5f4b70c73492c1706/0b533/1.png 500w,\n/static/cf74457975568ef5f4b70c73492c1706/b97f6/1.png 958w\"\n        sizes=\"(max-width: 958px) 100vw, 958px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">포트 설정 이미지</figcaption>\n  </figure></p>\n<p>특정포트에서 WSL포트를 입력해주고 방화벽을 열어주면 됩니다.</p>\n<h2 id=\"23-번외-명령어\" style=\"position:relative;\">2.3. 번외 명령어<a href=\"#23-%EB%B2%88%EC%99%B8-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"23 번외 명령어 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"powershell\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">netsh interface portproxy reset</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"powershell\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">netsh interface portproxy show v4tov4</span></span></span></code></pre>\n<h2 id=\"24-WSL2에서-실행시켜보기\" style=\"position:relative;\">2.4. WSL2에서 실행시켜보기<a href=\"#24-WSL2%EC%97%90%EC%84%9C-%EC%8B%A4%ED%96%89%EC%8B%9C%EC%BC%9C%EB%B3%B4%EA%B8%B0\" aria-label=\"24 WSL2에서 실행시켜보기 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>특정 포트를 열어줬으면 서버를 하나 실행시켜 봅니다.</p>\n<p>공인아이피:포트 -> 사설아이피:포트 -> WSL서버:포트 로 연결을 마쳤습니다.</p>\n<p>같은 네트워크 환경에서는<br>\n사설아이피:포트로 접속하면, WSL서버:포트로 연결됩니다.</p>\n<h1 id=\"3-마무리\" style=\"position:relative;\">3. 마무리<a href=\"#3-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"3 마무리 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"31-에러사항\" style=\"position:relative;\">3.1. 에러사항<a href=\"#31-%EC%97%90%EB%9F%AC%EC%82%AC%ED%95%AD\" aria-label=\"31 에러사항 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ol>\n<li>\n<p>위와같이 다했는데 접속이 안 될 때</p>\n<ul>\n<li>npm proxy 허용 or yarn proxy 허용을 검토해보세요</li>\n<li>해당 서버가 프록시접속이 허용되는지 확인해보세요.</li>\n</ul>\n</li>\n</ol>\n<p>apache나 nginx를 이용하여 테스트를 해보세요.<br>\n어디서 문제인지 알 수 있을 겁니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","featuredImg":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVQoz6WSOwqEMBCGPcBAHswjpk6V3MCQyntYCt5DsBYCue7CwlYqq7tfO3z8wz/T0R90VwMR+VFGRK01M4uIc46Z78qI6JyLMSql4I219pYsIgCQc661zvO8LMs0TcMwGGOO+edyKWXf923b1nVtrY3jCADHFs7X7vs+pUREIQTvPTMj4oPCjDFEZK091b6fij88lu88yQuaGD0w5ZmeywAAAABJRU5ErkJggg==","aspectRatio":2,"src":"/static/d69521d8ac0792af6e325f6833bbca06/17c4b/R1280x0.png","srcSet":"/static/d69521d8ac0792af6e325f6833bbca06/69585/R1280x0.png 200w,\n/static/d69521d8ac0792af6e325f6833bbca06/497c6/R1280x0.png 400w,\n/static/d69521d8ac0792af6e325f6833bbca06/17c4b/R1280x0.png 743w","sizes":"(max-width: 743px) 100vw, 743px"}}},"frontmatter":{"date":"January 12, 2022","subtitle":"WSL2 포트포워딩 방법과 IP와 LAN에 대해","title":"WSL2 포트 포워딩"},"headings":[{"depth":1,"id":"1-들어가며","value":"1. 들어가며"},{"depth":2,"id":"11-IPv4-IPv6","value":"1.1. IPv4 IPv6"},{"depth":3,"id":"111-왜-버전6이-필요했을까","value":"1.1.1 왜 버전6이 필요했을까?"},{"depth":2,"id":"12-LAN-과-WAN","value":"1.2. LAN 과 WAN"},{"depth":3,"id":"121-LAN","value":"1.2.1. LAN"},{"depth":3,"id":"122-WAN","value":"1.2.2. WAN"},{"depth":1,"id":"2-본론","value":"2. 본론"},{"depth":2,"id":"21-출발점---중간과정---도착점","value":"2.1. 출발점 -> 중간과정 -> 도착점"},{"depth":3,"id":"211-출발점-공인-IP","value":"2.1.1. 출발점 (공인 IP)"},{"depth":3,"id":"212-중간과정-사설-IP","value":"2.1.2. 중간과정 (사설 IP)"},{"depth":3,"id":"213-도착점-WSL-IP","value":"2.1.3. 도착점 WSL IP"},{"depth":2,"id":"22-연결하기","value":"2.2. 연결하기"},{"depth":3,"id":"221-Public---Windows","value":"2.2.1. Public -> Windows"},{"depth":3,"id":"222-Windows---WSL","value":"2.2.2. Windows -> WSL"},{"depth":2,"id":"23-번외-명령어","value":"2.3. 번외 명령어"},{"depth":2,"id":"24-WSL2에서-실행시켜보기","value":"2.4. WSL2에서 실행시켜보기"},{"depth":1,"id":"3-마무리","value":"3. 마무리"},{"depth":2,"id":"31-에러사항","value":"3.1. 에러사항"}]}},"pageContext":{"slug":"/Development/WSL2_Forwarding/"}},"staticQueryHashes":[]}